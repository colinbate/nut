(function(a){typeof module!="undefined"?module.exports=a:this.nut=a})(function(){var a=document,b="firstChild",c="nextSibling",d="getElementsByClassName",e="length",f=function(a,d){var e=d[b],f=[];if(e)do e.nodeType==1&&f.push(e);while(e=e[c]);return f},g=function(b,c){var d=a.getElementById(b);return d?[d]:[]},h=function(a,d){var f=d[b],g=[],i;if(f)do f.nodeType==1&&(f.className&&f.className.match("\\b"+a+"\\b")&&g.push(f),(i=h(a,f))[e]&&(g=g.concat(i)));while(f=f[c]);return g},i=function(a,b){return b[d]?b[d](a):h(a,b)},j=function(a,b){return b.getElementsByTagName(a)};return function(b,c){c?c.pop||(c=[c]):c=[a];var d,h,k,l,m,n=[],o=-1,p,q,r,s,t,u,v;b=b.split(","),t=-1;while(l=b[++t])b[t]=l.split(/\s+/);while(d=c[++o]){p=b[e];while(p){h=[d],q=-1,r=b[--p][e];while(++q<r)if(l=b[p][q]){l.charAt(0)=="#"?(l=l.substr(1),v=g):l.charAt(0)=="."?(l=l.substr(1),v=i):l=="*"?v=f:v=j,k=[],s=h[e];while(s){m=v(l,h[--s]),t=-1,u=m[e];while(++t<u)k.push(m[t])}h=k}n=n.concat(h)}}return n}}());